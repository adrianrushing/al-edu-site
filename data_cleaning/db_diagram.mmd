erDiagram
    COUNTY ||--o{ DISTRICT : "contains"
    COUNTY ||--o{ CENSUS_TRACT : "contains"
    DISTRICT ||--o{ DISTRICT_ACADEMICS : "measured by year-grade"
    DISTRICT ||--o{ DISTRICT_FINANCE : "funded by year"
    DISTRICT ||--o{ SCHOOL_FINANCE : "has school spending"
    DISTRICT ||--o{ SCHOOL_DATA : "operates schools"
    CENSUS_TRACT ||--o{ COI_DOMAIN_SCORE : "domain scored by year"
    CENSUS_TRACT ||--o{ COI_SUBDOMAIN_SCORE : "subdomain scored by year"
    CENSUS_TRACT ||--o{ COI_COMPOSITE_SCORE : "composite scored by year"
    CENSUS_TRACT ||--o{ COI_POPULATION : "populated by year"
    SCHOOL_DATA ||--o{ TEACHER_EXPERIENCE : "has teacher experience"
    SCHOOL_DATA ||--o{ TEACHER_DEMOGRAPHICS : "has teacher demographics"
    SCHOOL_DATA ||--o{ TEACHER_EFFECTIVENESS : "has effectiveness data"
    SCHOOL_DATA }o--o{ SCHOOL_CROSSWALK : "mapped via"
    SCHOOL_DATA ||--o{ PROFICIENCY_REPORT_RAW : "raw proficiency"
    SCHOOL_DATA ||--o{ STU_DEMOGRAPHICS_RAW : "raw student demo"
    SCHOOL_DATA ||--o{ DEMOGRAPHICS_RAW : "raw demographics"
    COUNTY {
        Int county_fips PK "County FIPS Code"
        String county_names "County Name"
        String state_postal_code "State Abbreviation"
        Int state_fips "State FIPS Code"
        Float cmpoverty "Community Poverty Rate"
        Float cmunemp "Community Unemployment Rate"
        Float cmsglprnt "Single Parent Rate"
        Float cmcollege "College Attainment Rate"
        Float snapall "SNAP Participation"
        Float fooddesert "Food Desert Flag"
        String ct_econtype "Economic Type Classification"
        Float ct_loweducation "Low Education Flag"
        Float ct_poploss "Population Loss Flag"
        Float ct_retiredest "Retirement Destination Flag"
        Float ct_persistpoverty "Persistent Poverty Flag"
        Float ct_persistchildpoverty "Persistent Child Poverty"
        Float h_fctr_zs "Health Factors Z-Score"
        Float hbehavezs "Health Behaviors Z-Score"
        Float clincarezs "Clinical Care Z-Score"
        Float socecnzs "Socioeconomic Z-Score"
        Float physenvzs "Physical Environment Z-Score"
    }
    DISTRICT {
        Int leaid PK "Local Education Agency ID"
        String leanm "District Name"
        Int district_id_number "State-Assigned District Number"
        Int county_fips FK "County FIPS Link"
        String locale4 "4-Category Locale"
        String locale3 "3-Category Locale"
        Int blackbeltsm "Black Belt Membership Flag"
    }
    CENSUS_TRACT {
        BigInt geoid10 PK "Census Tract FIPS"
        Int state_fips "State FIPS"
        String state_usps "State Postal Abbreviation"
        String state_name "State Name"
        Int county_fips FK "County FIPS Link"
        String county_name "County Name"
        Int metro_fips "Metro Area FIPS"
        String metro_name "Metro Area Name"
        String metro_type "Metro Type Class"
        Int in100 "In Top 100 Metros Flag"
        Int primary_ruca "Rural-Urban Commuting Code"
    }
    DISTRICT_ACADEMICS {
        Int leaid PK "District ID"
        Int year PK "Academic Year"
        Int grade PK "Grade Level"
        Float achv "Achievement Score"
        Float achvz "Achievement Z-Score"
        Float math "Math Score"
        Float rla "Reading Language Arts Score"
        Float totenrl "Total Enrollment"
        Float perasn "Pct Asian"
        Float perblk "Pct Black"
        Float perhsp "Pct Hispanic"
        Float perind "Pct Indigenous"
        Float perwht "Pct White"
        Float perecd "Pct Economically Disadvantaged"
        Float perell "Pct English Language Learner"
        Int hperasn "Headcount Flag Asian"
        Int hperblk "Headcount Flag Black"
        Int hperhsp "Headcount Flag Hispanic"
        Int hperind "Headcount Flag Indigenous"
        Int hperwht "Headcount Flag White"
        Int hperecd "Headcount Flag EconDisadv"
        Int hperell "Headcount Flag ELL"
    }
    DISTRICT_FINANCE {
        Int leaid PK "District ID"
        Int year PK "Fiscal Year"
        Float distr "District Staffing Ratio"
        Float diinstaid "Instructional Aides per Pupil"
        Float diguidc "Guidance Counselors per Pupil"
        Float dilib "Librarians per Pupil"
        Float diadmin "Administrators per Pupil"
        Float direvtotal "Total Revenue"
        Float direvlocal "Local Revenue"
        Float diexptotal "Total Expenditures"
        Float diexpinst "Instruction Expenditures"
        Float diexpsuppt "Support Expenditures"
        Float diexppupl "Pupil Support Expenditures"
        Float diexpplant "Plant Expenditures"
        Float diexpbus "Transportation Expenditures"
        Float disalall "Total Salary Outlay"
        Float disalreg "Regular Teacher Salary"
        Float disalinst "Instructional Staff Salary"
        Float disalplant "Plant Operations Salary"
        Float disalbus "Transportation Salary"
        Float disalpupl "Pupil Services Salary"
        Float hsecdnec "HS Secondary Need-Cost"
        Float rsecdnec "Regular Secondary Need-Cost"
    }
    COI_DOMAIN_SCORE {
        BigInt geoid10 PK "Census Tract FK"
        Int year PK "Year"
        String domain PK "Domain: coi, ed, he, se"
        String c5_nat "Quintile National"
        String c5_stt "Quintile State"
        String c5_met "Quintile Metro"
        Int r_nat "Rank National"
        Int r_stt "Rank State"
        String r_met "Rank Metro"
        Float z_nat "Z-Score National"
        Float z_stt "Z-Score State"
        String z_met "Z-Score Metro"
    }
    COI_SUBDOMAIN_SCORE {
        BigInt geoid10 PK "Census Tract FK"
        Int year PK "Year"
        String subdomain PK "14 Subdomains"
        String c5_nat "Quintile National"
        String c5_stt "Quintile State"
        String c5_met "Quintile Metro"
        Int r_nat "Rank National"
        Int r_stt "Rank State"
        String r_met "Rank Metro"
        Float z_nat "Z-Score National"
        Float z_stt "Z-Score State"
        String z_met "Z-Score Metro"
    }
    COI_COMPOSITE_SCORE {
        BigInt geoid10 PK "Census Tract FK"
        Int year PK "Year"
        String measure PK "18 Measures"
        Int rank_value "Composite Rank"
        Float standardized_value "Standardized Score"
    }
    COI_POPULATION {
        BigInt geoid10 PK "Census Tract FK"
        Int year PK "Year"
        Float aian "Am Indian Alaska Native"
        Float asian "Asian"
        Float black "Black"
        Float hisp "Hispanic"
        Float white "White"
        Float total "Total Population"
    }
    SCHOOL_FINANCE {
        BigInt ncesid PK "NCES School ID"
        String year PK "Fiscal Year"
        String state "State"
        String distid_stateassigned "State District ID"
        String schoolid_stateassigned "State School ID"
        String distname "District Name"
        String schoolname "School Name"
        BigInt ncesdistid_admin FK "Administrative District ID"
        BigInt ncesdistid_geo "Geographic District ID"
        BigInt census_id "Census ID"
        Int ncesenroll "NCES Enrollment"
        String gradespan "Grade Span"
        Int level "School Level Code"
        String enroll_raw_al "Raw Enrollment AL"
        String pp_stloc_raw_al "PP State-Local Raw"
        String pp_fed_raw_al "PP Federal Raw"
        String pp_total_raw_al "PP Total Raw"
        String pp_site_stloc_raw_al "PP Site State-Local"
        String pp_site_fed_raw_al "PP Site Federal"
        String pp_site_raw_al "PP Site Total"
        String pp_centshare_stloc_raw_al "PP Central Share St-Loc"
        String pp_centshare_fed_raw_al "PP Central Share Fed"
        String pp_centshare_raw_al "PP Central Share Total"
        String schoolstloc_raw_al "School State-Local Total"
        String schoolfed_raw_al "School Federal Total"
        String schooltot_raw_al "School Grand Total"
        Float pp_total_norm_nerds "Normalized PP Total"
        Int flag_nerds "NERDS Flag"
        Int flag_f33 "F33 Flag"
        String nces_locale "NCES Locale Code"
        String nces_charter "Charter Status"
        String nces_magnet "Magnet Status"
        String nces_title1 "Title I Status"
        String nces_title1_schoolwide "Title I Schoolwide"
        Int nces_freelunch "Free Lunch Count"
        Int nces_reducedlunch "Reduced Lunch Count"
        Float nces_poverty "Poverty Rate"
        String nces_address "School Address"
        String nces_city "School City"
        Int nces_zip "School ZIP"
    }
    SCHOOL_DATA {
        BigInt ncessch PK "NCES School ID"
        Int year PK "Academic Year"
        String system "School System Name"
        String school "School Name"
        Int enrollment "Total Enrollment"
        Float pctecd "Pct Econ Disadvantaged"
        Float pctesl "Pct English Second Language"
        Float pctswd "Pct Students with Disabilities"
        Float pctasian "Pct Asian Students"
        Float pctblack "Pct Black Students"
        Float pcthisp "Pct Hispanic Students"
        Float pctwhite "Pct White Students"
        Float pctaian "Pct Am Indian AK Native"
        Float pctnhpi "Pct Native Hawaiian Pac Isl"
        Float pcttwo "Pct Two or More Races"
        Float achall "Achievement All Students"
        Float grwall "Growth All Students"
        Float absall "Absenteeism All Students"
        Float achecd "Achievement EconDisadv"
        Float grwecd "Growth EconDisadv"
        Float absecd "Absenteeism EconDisadv"
        Float achesl "Achievement ESL"
        Float grwesl "Growth ESL"
        Float absesl "Absenteeism ESL"
        Float achasian "Achievement Asian"
        Float grwasian "Growth Asian"
        Float absasian "Absenteeism Asian"
        Float achblack "Achievement Black"
        Float grwblack "Growth Black"
        Float absblack "Absenteeism Black"
        Float achhsp "Achievement Hispanic"
        Float grwhsp "Growth Hispanic"
        Float abshsp "Absenteeism Hispanic"
        Float achwhite "Achievement White"
        Float grwwhite "Growth White"
        Float abswhite "Absenteeism White"
        Float achother "Achievement Other"
        Float grwother "Growth Other"
        Float absother "Absenteeism Other"
        Float staffcount "Total Staff Count"
        Float tchcount "Teacher Count"
        String tcasian "Teacher Count Asian"
        Float tcblack "Teacher Count Black"
        Float tchisp "Teacher Count Hispanic"
        Float tcwhite "Teacher Count White"
        Float tcother "Teacher Count Other"
        String prasian "Teacher Pct Asian"
        Float prblack "Teacher Pct Black"
        String prhisp "Teacher Pct Hispanic"
        Float prwhite "Teacher Pct White"
        String prother "Teacher Pct Other"
        Float counselor "Counselor Count"
        Float instasst "Instructional Assistant Count"
        Float librarian "Librarian Count"
        Float aricoach "ARI Coach Count"
        Float tcexperienced "Experienced Teacher Count"
        Float tcinexperienced "Inexperienced Teacher Count"
        Float prexperienced "Pct Experienced Teachers"
        Float prinexperienced "Pct Inexperienced Teachers"
        String district "District Name"
        Int enrl38 "SEDA Enrollment Grades 3-8"
        Float avgrd38 "SEDA Avg Grade"
        Float perfrl "SEDA Pct Free Reduced Lunch"
        Float sesavgall "SEDA SES Average All"
        Float lninc50avgall "SEDA Log Median Income"
        Float baplusavgall "SEDA BA Plus Rate"
        Float unempavgall "SEDA Unemployment Rate"
        Float snapavgall "SEDA SNAP Rate"
        Float povertyavgall "SEDA Poverty Rate"
        Float single_momavgall "SEDA Single Mother Rate"
        Int coi "Child Opportunity Index"
        Int coi_ed "COI Education Domain"
        Int coi_he "COI Health Environment Domain"
        Int coi_st "COI Socioeconomic Domain"
        Float ppe "Per Pupil Expenditure"
        Int urban "Urban Locale Flag"
        Int suburb "Suburb Locale Flag"
        Int town "Town Locale Flag"
        Int rural "Rural Locale Flag"
        String seda "SEDA School Name"
        BigInt sedasch "SEDA School ID"
        BigInt leaid FK "District ID Link"
        String leanm "District Name"
        Int sedaadmin "SEDA Admin Unit ID"
        String sedaadminname "SEDA Admin Unit Name"
        Int sedacounty "SEDA County ID"
        String sedacountyname "SEDA County Name"
        Int sedametro "SEDA Metro ID"
        String sedametroname "SEDA Metro Name"
        Int sedacz "SEDA Commuting Zone ID"
        Int sedalea "SEDA LEA ID"
        String sedaleaname "SEDA LEA Name"
        Int countyid "County ID"
        String countyname "County Name"
        Int metroid13 "Metro ID 2013"
        String metroname13 "Metro Name 2013"
        Int czid "Commuting Zone ID"
        String locale "Locale Classification"
        String lcity "City"
        Int lzip "ZIP Code"
        Float latcod "Latitude"
        Float loncod "Longitude"
        Int in_shape "In Shapefile Flag"
        String schoolold "Original School Name"
    }
    TEACHER_EXPERIENCE {
        Int year PK "Academic Year"
        String system PK "School System Name"
        String school PK "School Name"
        String gender PK "Gender"
        String race PK "Race"
        String ethnicity PK "Ethnicity"
        String sub_population PK "Sub Population Group"
        Float total_count "Total Teacher Count"
        Float experienced_count "Experienced Count"
        Float experienced_rate "Experienced Rate"
        Float inexperienced_count "Inexperienced Count"
        Float inexperienced_rate "Inexperienced Rate"
    }
    TEACHER_DEMOGRAPHICS {
        Int year PK "Academic Year"
        String system PK "School System Name"
        String school PK "School Name"
        String gender PK "Gender"
        String race PK "Race"
        String ethnicity PK "Ethnicity"
        String sub_population PK "Sub Population Group"
        Float demographic_count "Demographic Count"
        Float total_count "Total Teacher Count"
        Float demographic_rate "Demographic Rate"
    }
    TEACHER_EFFECTIVENESS {
        Int year PK "Academic Year"
        Int system_code "System Code"
        String system "System Name"
        Int school_code PK "School Code"
        String school "School Name"
        String educator_effectiveness_score "Effectiveness Score"
        String atot_completion_rate_designation "ATOT Completion Designation"
        String title_i_status "Title I Status"
    }
    SCHOOL_CROSSWALK {
        BigInt ncessch PK "NCES School ID"
        String seda_school_name "SEDA School Name"
        String alsde_school_name "ALSDE School Name"
        String system "School System"
        String hand_match "Manual Match Flag"
    }
    PROFICIENCY_REPORT_RAW {
        Int id PK "Auto-increment ID"
        Int source_year "Extracted from filename"
        String col_0 "Unnamed Column 0"
        String col_1 "Unnamed Column 1"
        String col_2 "Unnamed Column 2"
        String col_3 "Unnamed Column 3"
        String col_4 "Unnamed Column 4"
        String col_5 "Unnamed Column 5"
        String col_6 "Unnamed Column 6"
        String col_7 "Unnamed Column 7"
        String col_8 "Unnamed Column 8"
        String col_9 "Unnamed Column 9"
    }
    STU_DEMOGRAPHICS_RAW {
        Int id PK "Auto-increment ID"
        Int source_year "Extracted from filename"
        String col_0 "Unnamed Column 0"
        String col_1 "Unnamed Column 1"
        String col_2 "Unnamed Column 2"
        String col_3 "Unnamed Column 3"
        String col_4 "Unnamed Column 4"
        String col_5 "Unnamed Column 5"
        String col_6 "Unnamed Column 6"
        String col_7 "Unnamed Column 7"
        String col_8 "Unnamed Column 8"
        String col_9 "Unnamed Column 9"
        String col_10 "Unnamed Column 10"
        String col_11 "Unnamed Column 11"
        String col_12 "Unnamed Column 12"
        String col_13 "Unnamed Column 13"
        String col_14 "Unnamed Column 14"
        String col_15 "Unnamed Column 15"
        String col_16 "Unnamed Column 16"
        String col_17 "Unnamed Column 17"
    }
    DEMOGRAPHICS_RAW {
        Int id PK "Auto-increment ID"
        Int source_year "Extracted from filename"
        String col_0 "Unnamed Column 0"
        String col_1 "Unnamed Column 1"
        String col_2 "Unnamed Column 2"
        String col_3 "Unnamed Column 3"
        String col_4 "Unnamed Column 4"
        String col_5 "Unnamed Column 5"
        String col_6 "Unnamed Column 6"
        String col_7 "Unnamed Column 7"
        String col_8 "Unnamed Column 8"
        String col_9 "Unnamed Column 9"
        String col_10 "Unnamed Column 10"
        String col_11 "Unnamed Column 11"
        String col_12 "Unnamed Column 12"
        String col_13 "Unnamed Column 13"
        String col_14 "Unnamed Column 14"
        String col_15 "Unnamed Column 15"
        String col_16 "Unnamed Column 16"
        String col_17 "Unnamed Column 17"
    }
    CODEBOOK {
        Int id PK "Auto-increment ID"
        String source_file "Source Codebook File"
        Int position "Variable Position"
        String name "Variable Name"
        String label "Variable Label"
        String type "Variable Type"
        String usage "Variable Usage"
        String level "Feature Level"
        String charts "Chart Inclusion"
        String note "Additional Notes"
    }
    DATA_DICTIONARY {
        Int id PK "Auto-increment ID"
        String source_table "Source Table Name"
        String column_name "Column Name"
        String type "Data Type"
        String label "Column Label"
        String description "Column Description"
    }
